let mongo = require('mongoose');

//连接数据库
mongo.connect('mongodb://localhost/itsource',(err)=>{
    if (err) throw err;
    console.log('连接数据库成功');
});

//定义骨架
let mongoschema = new mongo.Schema({
    name:String,
    age:Number,
    sex:String,
    hobby:[]
});

//发布模型
let mongomodel = mongo.model('web',mongoschema,'web');

//创建实例
let web = new mongomodel();

//增加数据
// web.name = '周宣佑';
// web.age = 25;
// web.sex = '男';
// web.hobby = ['龍杀','打飞机'];
// web.save((err)=>{
//     if (err) throw err;
//     console.log('数据创建成功')
// });
//修改数据
// let id = '5c468fafc684d0bafb42fd1e';
// mongomodel.findById(id).exec((err,data)=>{
//     if(err) throw err;
//     data.name = '邓力华';
//     data.sex = '人妖';
//     data.save((err)=>{
//         if (err) throw err;
//         console.log('修改后的数据',data);
//     })
// });
//查找数据
// let id = '5c468fafc684d0bafb42fd1e';
// mongomodel.find({}).exec((err,data)=>{
//     if (err) throw err;
//     console.log(data);
// });
//删除数据
let id = '5c4693824c7ab9cc33eebaf9';
mongomodel.findById(id).exec((err,data)=>{
    if (err) throw err;
    data.remove((err)=>{
        if (err) throw err;
        console.log('删除数据成功');
    });

});
